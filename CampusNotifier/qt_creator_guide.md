# Qt Creator 编译和运行指南

## 前提条件

1. 已安装 Qt Creator 17.0.1 或更高版本
2. 已安装 Qt 6.9.2 及对应编译器
3. 已下载并解压项目文件

## 步骤1：打开项目

1. 启动 Qt Creator
2. 点击"文件" > "打开文件或项目"
3. 浏览到 `B:\QtCode\CampusNotifier\CampusNotifier.pro`
4. 点击"打开"按钮
5. 选择构建套件（Kit），推荐选择 "Desktop Qt 6.9.2 MinGW 64-bit"
6. 点击"Configure Project"按钮

## 步骤2：编译推送端（学校方）

### 2.1 配置构建选项
1. 在左侧边栏中选择"项目"选项卡（或按 Alt+5）
2. 找到"Build & Run" > "Build" > "Build Steps"
3. 展开"qmake"步骤
4. 确保"Additional arguments"为空
5. 展开"Make"步骤
6. 确保"Make arguments"为空

### 2.2 构建项目
1. 在左上角的构建配置下拉菜单中选择"Release"
2. 点击工具栏上的"构建"按钮（或按 Ctrl+B）
3. 等待构建完成，底部状态栏显示"构建成功"

### 2.3 找到推送端可执行文件
- 构建成功后，可执行文件位于：
  `B:\QtCode\CampusNotifier\build\Desktop_Qt_6_9_2_MinGW_64_bit-Release\release\CampusNotifier_Pusher.exe`

## 步骤3：编译接收端

### 3.1 配置构建选项
1. 在左侧边栏中选择"项目"选项卡（或按 Alt+5）
2. 找到"Build & Run" > "Build" > "Build Steps"
3. 展开"qmake"步骤
4. 在"Additional arguments"中添加：
   ```
   CONFIG+=receiver
   ```
5. 展开"Make"步骤
6. 确保"Make arguments"为空

### 3.2 构建项目
1. 在左上角的构建配置下拉菜单中选择"Release"
2. 点击工具栏上的"构建"按钮（或按 Ctrl+B）
3. 等待构建完成，底部状态栏显示"构建成功"

### 3.3 找到接收端可执行文件
- 构建成功后，可执行文件位于：
  `B:\QtCode\CampusNotifier\build\Desktop_Qt_6_9_2_MinGW_64_bit-Release\release\CampusNotifier_Receiver.exe`

## 步骤4：运行和测试

### 4.1 启动推送端（学校方）
1. 点击工具栏上的"运行"按钮（或按 Ctrl+R）
2. 或者直接在文件资源管理器中双击 `CampusNotifier_Pusher.exe`
3. 验证推送端界面上有"添加"、"修改"、"删除"按钮

### 4.2 启动接收端
1. 在文件资源管理器中找到 `CampusNotifier_Receiver.exe`
2. 双击运行接收端
3. 验证接收端界面上没有"添加"、"修改"、"删除"按钮，只有"刷新"按钮

### 4.3 测试通知推送
1. 在推送端点击"添加"按钮
2. 填写通知信息：
   - 标题：学校通知
   - 分类：公告
   - 日期：2026-01-15
   - 内容：这是一条来自学校的测试通知
3. 点击"保存"按钮
4. 在接收端点击"刷新"按钮
5. 接收端应该显示刚刚添加的通知

### 4.4 测试通知修改
1. 在推送端选择刚刚添加的通知
2. 点击"修改"按钮
3. 修改通知内容，例如将标题改为"重要通知"
4. 点击"保存"按钮
5. 在接收端点击"刷新"按钮
6. 接收端应该显示修改后的通知

### 4.5 测试通知删除
1. 在推送端选择刚刚修改的通知
2. 点击"删除"按钮
3. 确认删除操作
4. 在接收端点击"刷新"按钮
5. 接收端应该不再显示该通知

## 常见问题解决

### 问题1：构建失败，提示找不到编译器
- 解决方法：检查是否正确安装了Qt 6.9.2及对应编译器，确保构建套件选择正确

### 问题2：接收端看不到推送端添加的通知
- 解决方法：
  1. 检查两个客户端是否使用同一个数据库文件
  2. 数据库路径：`C:/Users/用户名/AppData/Local/CampusNotifier/CampsDB.db`
  3. 尝试手动创建数据库文件夹

### 问题3：推送端没有权限修改通知
- 解决方法：检查数据库文件是否有读写权限

## 技术支持

如果您在编译或运行过程中遇到问题，请参考以下资源：
- Qt官方文档：https://doc.qt.io/
- Qt Creator使用指南：https://doc.qt.io/qtcreator/
- 项目测试指南：test_guide.md

## 后续操作

1. 您可以将推送端安装在学校管理员的电脑上
2. 将接收端分发给学生或教职工
3. 学校管理员通过推送端发布通知，学生通过接收端查看通知
4. 支持按分类筛选通知，方便用户查找相关通知

祝您使用愉快！